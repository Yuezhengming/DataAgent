# Spring AI Alibaba DataAgent 文档中心

欢迎来到 DataAgent 项目文档中心！本目录包含了项目的完整技术文档。

---

## 📚 文档列表

### 1. [设计方案文档](./设计方案文档.md) ⭐

**适合人群**: 架构师、技术负责人、开发人员

**内容概览**:
- 项目概述和核心价值
- 系统架构设计（分层架构、模块划分）
- 核心技术选型（后端、前端、AI）
- 模块设计详解（Management、Chat、Frontend）
- **Graph 工作流引擎**（核心特性、组件、节点、路由器）
- 数据库设计（8张核心表 + 向量数据库）
- API 接口设计（完整的 REST API 规范）
- 前端架构设计（页面结构、组件、状态管理）
- 安全性设计（加密、防注入、隔离执行）
- 部署方案（开发环境、生产环境、Docker Compose）
- 扩展性设计（多模型支持、自定义节点、插件化）
- 性能优化、监控日志、未来规划

**文档大小**: 30KB  
**阅读时间**: 约 45 分钟

---

### 2. [架构图](./架构图.md) 📊

**适合人群**: 所有技术人员

**内容概览**:
- 系统整体架构图（5层架构）
- Graph 工作流完整流程图（15个节点）
- NL2SQL 核心流程时序图
- 数据库 ER 图（实体关系）
- 模块依赖关系图
- Graph 节点状态流转图
- 前端页面路由图

**特点**: 
- 使用 Mermaid 绘制，支持在线渲染
- 可视化展示系统各个层面
- 便于快速理解系统结构

**文档大小**: 11KB  
**阅读时间**: 约 15 分钟

---

### 3. [快速开始指南](./快速开始指南.md) 🚀

**适合人群**: 新手开发者、测试人员

**内容概览**:
- 前置要求（Java、Maven、Node.js、MySQL）
- 5分钟快速启动步骤
- 第一次使用教程（创建智能体、配置数据源、开始对话）
- 示例数据库导入
- 配置说明（application.yml、环境变量）
- 常见问题解答（10+ 个常见错误及解决方案）
- 下一步学习资源
- 安全建议和最佳实践

**文档大小**: 9KB  
**阅读时间**: 约 20 分钟

---

## 🎯 快速导航

### 我是新手，想快速上手
👉 请阅读 [快速开始指南](./快速开始指南.md)

### 我想了解系统架构
👉 请阅读 [架构图](./架构图.md) + [设计方案文档](./设计方案文档.md)

### 我想了解 Graph 工作流
👉 请阅读 [设计方案文档 - 第5章](./设计方案文档.md#5-graph-工作流引擎)

### 我想了解数据库设计
👉 请阅读 [设计方案文档 - 第6章](./设计方案文档.md#6-数据库设计) + [架构图 - ER图](./架构图.md#4-数据库-er-图)

### 我想了解 API 接口
👉 请阅读 [设计方案文档 - 第7章](./设计方案文档.md#7-api-接口设计)

### 我遇到了问题
👉 请查看 [快速开始指南 - 常见问题](./快速开始指南.md#-常见问题)

---

## 📖 推荐阅读顺序

### 对于新手开发者

1. **第一步**: [快速开始指南](./快速开始指南.md) - 搭建环境并运行项目
2. **第二步**: [架构图](./架构图.md) - 了解系统整体结构
3. **第三步**: [设计方案文档](./设计方案文档.md) - 深入理解技术细节

### 对于有经验的开发者

1. **第一步**: [架构图](./架构图.md) - 快速了解系统架构
2. **第二步**: [设计方案文档](./设计方案文档.md) - 深入学习核心设计
3. **第三步**: [快速开始指南](./快速开始指南.md) - 实践操作

### 对于架构师/技术负责人

1. **第一步**: [设计方案文档](./设计方案文档.md) - 全面了解技术方案
2. **第二步**: [架构图](./架构图.md) - 可视化理解系统
3. **第三步**: 阅读源码 - 验证设计实现

---

## 🔑 核心概念速查

### Graph 工作流引擎

Graph 工作流是 DataAgent 的核心，基于有向图模型编排 NL2SQL 流程。

**关键组件**:
- `StateGraph` - 工作流定义器
- `CompiledGraph` - 可执行图实例
- `OverAllState` - 全局状态容器
- `NodeAction` - 节点业务逻辑
- `EdgeAction` - 路由决策逻辑

**详细说明**: [设计方案文档 - 第5章](./设计方案文档.md#5-graph-工作流引擎)

### NL2SQL 流程

自然语言转 SQL 的完整流程包含 15 个节点：

1. 查询重写 → 2. 关键词提取 → 3. Schema召回 → 4. 表关系分析 → 5. 计划生成 → 6. 计划执行 → 7-9. SQL生成/执行/校验 → 10-12. Python分析（可选） → 13. 报告生成 → 14. 人工审核（可选）

**流程图**: [架构图 - Graph工作流](./架构图.md#2-graph-工作流完整流程图)

### 数据库表结构

核心表包括：
- `agent` - 智能体配置
- `datasource` - 数据源连接
- `agent_datasource` - 智能体与数据源绑定
- `chat_session` - 对话会话
- `chat_message` - 消息记录
- `business_knowledge` - 业务知识库
- `semantic_model` - 语义模型
- `agent_preset_question` - 预设问题

**详细设计**: [设计方案文档 - 第6章](./设计方案文档.md#6-数据库设计)

---

## 🛠️ 技术栈一览

### 后端
- Java 17 + Spring Boot 3.4.8
- Spring AI 1.0.1 + Spring AI Alibaba 1.0.0.4
- MyBatis 3.0.4 + MySQL 8.0+
- Druid 连接池

### 前端
- Vue 3 + Vite
- Element Plus UI
- Axios + Vue Router

### AI 能力
- 阿里云 DashScope（通义千问）
- ChatModel: qwen-plus
- EmbeddingModel: text-embedding-v4
- VectorStore: SimpleVectorStore / Milvus

---

## 📊 项目统计

| 指标 | 数值 |
|-----|------|
| **模块数量** | 3个（Management、Chat、Common） |
| **Graph 节点数** | 15个 |
| **数据库表数** | 8张核心表 |
| **API 端点数** | 30+ 个 |
| **前端页面数** | 4个主要页面 |
| **代码行数** | 约 15,000+ 行 |

---

## 🤝 贡献文档

如果您发现文档有误或需要补充，欢迎提交 PR！

**文档编写规范**:
- 使用 Markdown 格式
- 代码示例使用语法高亮
- 图表使用 Mermaid 绘制
- 保持文档结构清晰

---

## 📞 联系我们

- **GitHub Issues**: [提交问题](https://github.com/alibaba/spring-ai-alibaba/issues)
- **钉钉群**: 加入 Spring AI Alibaba 社区群
- **官方文档**: [Spring AI Alibaba](https://github.com/alibaba/spring-ai-alibaba)

---

## 📝 文档更新日志

### v1.0 (2025-11-06)
- ✅ 创建设计方案文档
- ✅ 创建架构图文档
- ✅ 创建快速开始指南
- ✅ 创建文档索引

---

**文档版本**: v1.0  
**最后更新**: 2025-11-06  
**维护团队**: DataAgent 开发团队

---

## 🌟 Star History

如果这个项目对您有帮助，请给我们一个 Star ⭐️

[![Star History Chart](https://api.star-history.com/svg?repos=alibaba/spring-ai-alibaba&type=Date)](https://star-history.com/#alibaba/spring-ai-alibaba&Date)

